-- MySQL Script generated by MySQL Workbench
-- Wed Oct 21 16:56:44 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema salesdb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `salesdb` ;

-- -----------------------------------------------------
-- Schema salesdb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `salesdb` DEFAULT CHARACTER SET utf8 ;
USE `salesdb` ;

-- -----------------------------------------------------
-- Table `salesdb`.`PERSONA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`PERSONA` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`PERSONA` (
  `IDPERSONA` INT NOT NULL AUTO_INCREMENT,
  `NOMBRES` VARCHAR(100) NOT NULL,
  `APEPAT` VARCHAR(100) NULL,
  `APEMAT` VARCHAR(100) NULL,
  `EMAIL` VARCHAR(45) NOT NULL,
  `NUMDOC` VARCHAR(45) NULL,
  `TIPODOC` VARCHAR(45) NULL,
  `ESTADO` CHAR(1) NULL,
  `DEPARTAMENTO` VARCHAR(45) NULL,
  `PROVINCIA` VARCHAR(45) NULL,
  `DISTRITO` VARCHAR(45) NULL,
  `UBIGUEO` VARCHAR(45) NULL,
  PRIMARY KEY (`IDPERSONA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`AUTOR`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`AUTOR` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`AUTOR` (
  `IDAUTOR` INT NOT NULL,
  `PUBLICACIONES` VARCHAR(45) NULL,
  `FECHAREGISTRO` DATETIME NULL,
  `ESTADO` CHAR(1) NULL,
  `CODAUTOR` VARCHAR(45) NULL,
  PRIMARY KEY (`IDAUTOR`),
  UNIQUE INDEX `CODAUTOR_UNIQUE` (`CODAUTOR` ASC) VISIBLE,
  CONSTRAINT `PK_PERSONA_AUTOR`
    FOREIGN KEY (`IDAUTOR`)
    REFERENCES `salesdb`.`PERSONA` (`IDPERSONA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`CATEGORIA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`CATEGORIA` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`CATEGORIA` (
  `IDCATEGORIA` INT NOT NULL,
  `DESCRIPCION` VARCHAR(45) NULL,
  `ESTADO` VARCHAR(45) NULL,
  PRIMARY KEY (`IDCATEGORIA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`LIBRO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`LIBRO` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`LIBRO` (
  `IDLIBRO` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(45) NULL,
  `IDCATEGORIA` INT NOT NULL,
  `STOCKVENTA` INT NULL,
  `STOCKALQUILER` INT NULL,
  `TIPO` CHAR(1) NULL COMMENT 'F=FISICO/V=VIRTUAL',
  `IDAUTOR` INT NULL,
  `ESTADO` CHAR(1) NULL,
  `COSTOALQUILER` DECIMAL(10,2) NULL,
  `COSTOVENTA` DECIMAL(10,2) NULL,
  PRIMARY KEY (`IDLIBRO`),
  INDEX `FK_AUTOR_LIBRO_idx` (`IDAUTOR` ASC) VISIBLE,
  INDEX `FK_CATEGORIA_LIBRO_idx` (`IDCATEGORIA` ASC) VISIBLE,
  CONSTRAINT `FK_AUTOR_LIBRO`
    FOREIGN KEY (`IDAUTOR`)
    REFERENCES `salesdb`.`AUTOR` (`IDAUTOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_CATEGORIA_LIBRO`
    FOREIGN KEY (`IDCATEGORIA`)
    REFERENCES `salesdb`.`CATEGORIA` (`IDCATEGORIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`SEDE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`SEDE` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`SEDE` (
  `IDSEDE` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(45) NULL,
  `DEPARTAMENTO` VARCHAR(45) NULL,
  `DISTRITO` VARCHAR(45) NULL,
  `ESTADO` VARCHAR(45) NULL,
  PRIMARY KEY (`IDSEDE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`CLIENTE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`CLIENTE` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`CLIENTE` (
  `IDCLIENTE` INT NOT NULL,
  `ESTADO` CHAR(1) NULL,
  `FECHAREGISTRO` DATETIME NULL,
  `CODCLIENTE` VARCHAR(45) NULL,
  PRIMARY KEY (`IDCLIENTE`),
  UNIQUE INDEX `CODCLIENTE_UNIQUE` (`CODCLIENTE` ASC) VISIBLE,
  CONSTRAINT `PK_PERSONA`
    FOREIGN KEY (`IDCLIENTE`)
    REFERENCES `salesdb`.`PERSONA` (`IDPERSONA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`LIBRO_FISICO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`LIBRO_FISICO` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`LIBRO_FISICO` (
  `IDLIBRO` INT NOT NULL AUTO_INCREMENT,
  `CODLIBFIS` VARCHAR(45) NOT NULL,
  `TIPO` CHAR(1) NULL COMMENT 'V=VENTA / A=ALQUILER',
  `ESTADO` CHAR(1) NULL,
  `FECHAINGRESO` DATETIME NULL,
  INDEX `FK_FISICO_LIBRO_idx` (`IDLIBRO` ASC) VISIBLE,
  PRIMARY KEY (`CODLIBFIS`),
  CONSTRAINT `FK_FISICO_LIBRO`
    FOREIGN KEY (`IDLIBRO`)
    REFERENCES `salesdb`.`LIBRO` (`IDLIBRO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`PLANES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`PLANES` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`PLANES` (
  `IDPLAN` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` VARCHAR(45) NULL,
  `TIPO` VARCHAR(45) NULL COMMENT '0=PRUEBA/1=BRONCE/2=PLATA/3=PRIMIUN',
  `COSTO` DECIMAL(10,2) NULL,
  `ESTADO` CHAR(1) NULL,
  `PROMOALQUILER` INT NULL COMMENT 'PORCENTAJE DE DESCUENTO ALQUILER',
  `PROMOVENTA` INT NULL COMMENT 'PORCENTAJE DE DESCUENTO VENTA',
  `DELIVERYGRATIS` CHAR(1) NULL,
  PRIMARY KEY (`IDPLAN`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`SUSCRIPCION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`SUSCRIPCION` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`SUSCRIPCION` (
  `IDSUSCRIPCION` INT NOT NULL AUTO_INCREMENT,
  `IDCLIENTE` INT NOT NULL,
  `FECHAINICIO` DATETIME NULL,
  `ESTADO` CHAR(1) NULL,
  `FECHAFIN` DATETIME NULL,
  `IDPLAN` INT NOT NULL,
  PRIMARY KEY (`IDSUSCRIPCION`),
  INDEX `FK_SUSC_CLIENTE_idx` (`IDCLIENTE` ASC) VISIBLE,
  INDEX `FK_SUSC_PLAN_idx` (`IDPLAN` ASC) VISIBLE,
  CONSTRAINT `FK_SUSC_CLIENTE`
    FOREIGN KEY (`IDCLIENTE`)
    REFERENCES `salesdb`.`CLIENTE` (`IDCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_SUSC_PLAN`
    FOREIGN KEY (`IDPLAN`)
    REFERENCES `salesdb`.`PLANES` (`IDPLAN`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`DELIVERY`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`DELIVERY` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`DELIVERY` (
  `IDDELIVERY` INT NOT NULL AUTO_INCREMENT,
  `COSTO` DECIMAL(10,2) NULL,
  `DEPARTAMENTO` VARCHAR(45) NULL,
  `PROVINCIA` VARCHAR(45) NULL,
  `DISTRITO` VARCHAR(45) NULL,
  PRIMARY KEY (`IDDELIVERY`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`ALQUILER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`ALQUILER` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`ALQUILER` (
  `IDALQUILER` INT NOT NULL,
  `CODLIBFIS` VARCHAR(45) NULL,
  `IDCLIENTE` INT NULL,
  `IDSUSCRIPCION` INT NULL,
  `FECHA_EMISION` DATETIME NULL,
  `TOTAL` DECIMAL(10,2) NULL,
  `FECHA_ENTREGA` DATETIME NULL,
  `ESTADO` CHAR(1) NULL,
  `IDDELIVERY` INT NOT NULL,
  `DIRECCION_ENTREGA` VARCHAR(45) NULL,
  `REFERENCIA` VARCHAR(45) NULL,
  PRIMARY KEY (`IDALQUILER`),
  INDEX `FK_ALQ_LIBFIS_idx` (`CODLIBFIS` ASC) VISIBLE,
  INDEX `FK_ALQ_CLIENTE_idx` (`IDCLIENTE` ASC) VISIBLE,
  INDEX `FK_SUSCRIPCION_idx` (`IDSUSCRIPCION` ASC) VISIBLE,
  CONSTRAINT `FK_ALQ_LIBFIS`
    FOREIGN KEY (`CODLIBFIS`)
    REFERENCES `salesdb`.`LIBRO_FISICO` (`CODLIBFIS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_ALQ_CLIENTE`
    FOREIGN KEY (`IDCLIENTE`)
    REFERENCES `salesdb`.`CLIENTE` (`IDCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_SUSCRIPCION`
    FOREIGN KEY (`IDSUSCRIPCION`)
    REFERENCES `salesdb`.`SUSCRIPCION` (`IDSUSCRIPCION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_ALQ_DELIVERY`
    FOREIGN KEY (`IDALQUILER`)
    REFERENCES `salesdb`.`DELIVERY` (`IDDELIVERY`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`DET_SEDE_LIBRO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`DET_SEDE_LIBRO` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`DET_SEDE_LIBRO` (
  `IDSEDE` INT NOT NULL,
  `CODLIBFIS` VARCHAR(45) NOT NULL,
  `ESTADO` VARCHAR(45) NULL COMMENT 'R=RESERVADO/D=DISPONIBLE',
  INDEX `FK_DET_SEDE_idx` (`IDSEDE` ASC) VISIBLE,
  INDEX `FK_DET_LIBFIS_idx` (`CODLIBFIS` ASC) VISIBLE,
  CONSTRAINT `FK_DET_SEDE`
    FOREIGN KEY (`IDSEDE`)
    REFERENCES `salesdb`.`SEDE` (`IDSEDE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_DET_LIBFIS`
    FOREIGN KEY (`CODLIBFIS`)
    REFERENCES `salesdb`.`LIBRO_FISICO` (`CODLIBFIS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;



-- -----------------------------------------------------
-- Table `salesdb`.`USUARIO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`USUARIO` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`USUARIO` (
  `IDUSUARIO` INT NOT NULL,
  `USUARIO` VARCHAR(45) NOT NULL,
  `PASSWORD` VARCHAR(45) NOT NULL,
  `IDPERSONA` INT NOT NULL,
  PRIMARY KEY (`IDUSUARIO`),
  UNIQUE INDEX `IDUSUARIO_UNIQUE` (`IDUSUARIO` ASC) VISIBLE,
  INDEX `FK_USUARIO_PERSONA_idx` (`IDPERSONA` ASC) VISIBLE,
  CONSTRAINT `FK_USUARIO_PERSONA`
    FOREIGN KEY (`IDPERSONA`)
    REFERENCES `salesdb`.`PERSONA` (`IDPERSONA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`VALORACION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`VALORACION` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`VALORACION` (
  `IDVALORACION` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` VARCHAR(45) NULL,
  `CANTESTRELLAS` VARCHAR(45) NULL,
  PRIMARY KEY (`IDVALORACION`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`DET_VAL_LIBRO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`DET_VAL_LIBRO` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`DET_VAL_LIBRO` (
  `IDVALORACION` INT NULL,
  `IDLIBRO` INT NULL,
  `IDCLIENTE` INT NULL,
  `COMENTARIO` VARCHAR(45) NULL,
  `ESTADO` CHAR(1) NULL,
  INDEX `FK_DET_VAL_idx` (`IDVALORACION` ASC) VISIBLE,
  INDEX `FK_DETV_LIBRO_idx` (`IDLIBRO` ASC) VISIBLE,
  INDEX `FK_DETV_CLIENTE_idx` (`IDCLIENTE` ASC) VISIBLE,
  CONSTRAINT `FK_DETV_VAL`
    FOREIGN KEY (`IDVALORACION`)
    REFERENCES `salesdb`.`VALORACION` (`IDVALORACION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_DETV_LIBRO`
    FOREIGN KEY (`IDLIBRO`)
    REFERENCES `salesdb`.`LIBRO` (`IDLIBRO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_DETV_CLIENTE`
    FOREIGN KEY (`IDCLIENTE`)
    REFERENCES `salesdb`.`CLIENTE` (`IDCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`VENTA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`VENTA` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`VENTA` (
  `IDVENTA` INT NOT NULL AUTO_INCREMENT,
  `IDCLIENTE` INT NOT NULL,
  `FECHA` DATETIME NULL,
  `TOTAL` DECIMAL(10,2) NULL,
  `ESTADO` VARCHAR(45) NULL,
  `IDDELIVERY` INT NULL,
  PRIMARY KEY (`IDVENTA`),
  INDEX `FK_VEN_CLIENTE_idx` (`IDCLIENTE` ASC) VISIBLE,
  INDEX `FK_VEN_DELIVERY_idx` (`IDDELIVERY` ASC) VISIBLE,
  CONSTRAINT `FK_VEN_CLIENTE`
    FOREIGN KEY (`IDCLIENTE`)
    REFERENCES `salesdb`.`CLIENTE` (`IDCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_VEN_DELIVERY`
    FOREIGN KEY (`IDDELIVERY`)
    REFERENCES `salesdb`.`DELIVERY` (`IDDELIVERY`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`DET_VENTA_LIBRO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`DET_VENTA_LIBRO` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`DET_VENTA_LIBRO` (
  `IDVENTA` INT NOT NULL,
  `CODLIBFIS` VARCHAR(45) NOT NULL,
  `ESTADO` CHAR(1) NULL,
  `SUBTOTAL` DECIMAL(10,2) NULL,
  INDEX `FK_DETV_VENTA_idx` (`IDVENTA` ASC) VISIBLE,
  INDEX `FK_DETV_LIBFIS_idx` (`CODLIBFIS` ASC) VISIBLE,
  CONSTRAINT `FK_DETV_VENTA`
    FOREIGN KEY (`IDVENTA`)
    REFERENCES `salesdb`.`VENTA` (`IDVENTA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_DETV_LIBFIS`
    FOREIGN KEY (`CODLIBFIS`)
    REFERENCES `salesdb`.`LIBRO_FISICO` (`CODLIBFIS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`PERFIL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`PERFIL` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`PERFIL` (
  `IDPERFIL` INT NOT NULL,
  `DESCRIPCION` VARCHAR(45) NULL,
  `ESTADO` CHAR(1) NULL,
  PRIMARY KEY (`IDPERFIL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`DETALLE_USUARIO_PERFIL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`DETALLE_USUARIO_PERFIL` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`DETALLE_USUARIO_PERFIL` (
  `IDUSUARIO` INT NOT NULL,
  `IDPERFIL` INT NOT NULL,
  `ESTADO` CHAR(1) NULL,
  INDEX `FK_DETU_USUARIO_idx` (`IDUSUARIO` ASC) VISIBLE,
  INDEX `FK_DETU_PERFIL_idx` (`IDPERFIL` ASC) VISIBLE,
  CONSTRAINT `FK_DETU_USUARIO`
    FOREIGN KEY (`IDUSUARIO`)
    REFERENCES `salesdb`.`USUARIO` (`IDUSUARIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_DETU_PERFIL`
    FOREIGN KEY (`IDPERFIL`)
    REFERENCES `salesdb`.`PERFIL` (`IDPERFIL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`EMPLEADO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`EMPLEADO` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`EMPLEADO` (
  `IDEMPLEADO` INT NOT NULL,
  `IDSEDE` INT NULL,
  `ESTADO` CHAR(1) NULL,
  `CODEMPLEADO` VARCHAR(45) NULL,
  INDEX `FK_EMP_SEDE_idx` (`IDSEDE` ASC) VISIBLE,
  PRIMARY KEY (`IDEMPLEADO`),
  CONSTRAINT `FK_EMP_SEDE`
    FOREIGN KEY (`IDSEDE`)
    REFERENCES `salesdb`.`SEDE` (`IDSEDE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `PK_PERSONA_EMP`
    FOREIGN KEY (`IDEMPLEADO`)
    REFERENCES `salesdb`.`PERSONA` (`IDPERSONA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`CONDICION_ENTREGA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`CONDICION_ENTREGA` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`CONDICION_ENTREGA` (
  `IDTIPO` INT NOT NULL,
  `DESCRIPCION` VARCHAR(45) NULL,
  `ESTADO` CHAR(1) NULL,
  PRIMARY KEY (`IDTIPO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `salesdb`.`RECEPCION_ALQUILER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `salesdb`.`RECEPCION_ALQUILER` ;

CREATE TABLE IF NOT EXISTS `salesdb`.`RECEPCION_ALQUILER` (
  `IDALQUILER` INT NOT NULL,
  `IDEMPLEADO` INT NULL,
  `IDCLIENTE` INT NULL,
  `IDCONDICIONRECEP` INT NULL,
  `FECHARECEPCION` DATETIME NULL,
  `OBSERVACION` VARCHAR(45) NULL,
  PRIMARY KEY (`IDALQUILER`),
  INDEX `FK_DEV_CLI_idx` (`IDCLIENTE` ASC) VISIBLE,
  INDEX `FK_DEV_EMP_idx` (`IDEMPLEADO` ASC) VISIBLE,
  INDEX `FK_DEV_CON_idx` (`IDCONDICIONRECEP` ASC) VISIBLE,
  CONSTRAINT `FK_DEV_ALQ`
    FOREIGN KEY (`IDALQUILER`)
    REFERENCES `salesdb`.`ALQUILER` (`IDALQUILER`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_DEV_CLI`
    FOREIGN KEY (`IDCLIENTE`)
    REFERENCES `salesdb`.`CLIENTE` (`IDCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_DEV_EMP`
    FOREIGN KEY (`IDEMPLEADO`)
    REFERENCES `salesdb`.`EMPLEADO` (`IDEMPLEADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_DEV_CON`
    FOREIGN KEY (`IDCONDICIONRECEP`)
    REFERENCES `salesdb`.`CONDICION_ENTREGA` (`IDTIPO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
